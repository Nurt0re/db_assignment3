{% extends 'base.html' %}
{% block title %}{{ action }} Job{% endblock %}
{% block content %}
<div class="card">
    <h2>{{ action }} Job</h2>
    <form method="post">
        {% csrf_token %}
        <div class="form-group">
            <label for="member_user_id">Posted By (Member)*</label>
            <select id="member_user_id" name="member_user_id" required>
                <option value="">-- Select Member --</option>
                {% for member in members %}
                <option value="{{ member.member_user_id }}" {% if job.member_user_id == member.member_user_id %}selected{% endif %}>
                    {{ member.user.full_name }} ({{ member.user.email }})
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="required_caregiving_type">Required Caregiving Type*</label>
            <select id="required_caregiving_type" name="required_caregiving_type" required>
                <option value="Child Care" {% if job.required_caregiving_type == 'Child Care' %}selected{% endif %}>Child Care</option>
                <option value="Elderly Care" {% if job.required_caregiving_type == 'Elderly Care' %}selected{% endif %}>Elderly Care</option>
                <option value="Medical Care" {% if job.required_caregiving_type == 'Medical Care' %}selected{% endif %}>Medical Care</option>
                <option value="Special Needs Care" {% if job.required_caregiving_type == 'Special Needs Care' %}selected{% endif %}>Special Needs Care</option>
            </select>
        </div>
        <div class="form-group">
            <label for="other_requirements">Other Requirements</label>
            <textarea id="other_requirements" name="other_requirements">{{ job.other_requirements|default:'' }}</textarea>
        </div>
        <div class="form-group">
            <label for="date_posted">Date Posted*</label>
            <input type="date" id="date_posted" name="date_posted" value="{% if job %}{{ job.date_posted|date:'Y-m-d' }}{% endif %}" required>
        </div>
        <div class="actions">
            <button type="submit" class="btn btn-success">{{ action }} Job</button>
            <a href="{% url 'job_list' %}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
